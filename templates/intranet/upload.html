{% extends 'intranet/shared.html' %}
{% load staticfiles %}
{% load i18n %}
{% block extra_js %}
	 <script src="{% static 'intranet/js/vendor/pdf.js' %}"></script> 
	 <script src="{% static 'intranet/js/upload.js' %}"></script>
	 <script src="{% static 'intranet/js/animations.js' %}"></script>
{% endblock %}
{% block content %}
<div class="title">
	<h3>{% trans "Subir documentos" %}</h3>
</div>

<div class="intranet row upload selector">
	<div class="c6 upload hover trans">
		<div id="local" class="upload option clear" upload-type="local">
			<h5>{% trans "Archivos locales" %}</h5>
			<i class="fa fa-file-pdf-o" aria-hidden="true"></i>
		</div>		
	</div>
	<div class="c6 upload hover trans">
		<div id="drive" class="upload option clear" upload-type="drive">
			<img src="{% static 'intranet/images/google-drive-logo-lockup.png' %}">
		</div>
	</div>
</div>
<div class="upload hidden dn" id="success-icon">
	<div id="loading-bar"></div>
	<svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"><circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/><path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/></svg>
	<h4>{% trans "Subida exitosa. Tus documentos estarán disponibles en breve." %}</h4>
</div>
<div class="cssload-loader-wrapper upload hidden">
	<div class="cssload-loader">
		<div class="cssload-inner cssload-one"></div>
		<div class="cssload-inner cssload-two"></div>
		<div class="cssload-inner cssload-three"></div>
	</div>	
	<h4>{% trans "Ten paciencia. Los documentos estan cargandose." %}</h4>
</div>
<div class="upload section hidden">
	
</div>

<!-- Enlaces de utilidad -->

<script>
	var get_credentials_link = 'http://127.0.0.1:8000{% url 'get_credentials' %}';
	var link_analizer_link = "{% url 'link_analizer' '999' %}";
	var download_drive_link = "{% url 'download_drive_files' '999' %}";
	var upload_link = "{% url 'intranet:upload' %}";
	var static_link = "{% static '999' %}";
	var crossref_link = "{% url 'crossref:query' '999'%}";
	var spinner_link = "{% static 'intranet/images/ring.svg' %}"
	var extract_link = "{% url 'intranet:extract_content' %}"
	var csrf_token = '{{csrf_token}}';
	{% if request.user.drive_credentials == None %}
		PopupCenter(get_credentials_link, 'Iniciar sesion en Google Drive', 650, 700, false);
	{% endif %}
</script>

<script src="{% static 'intranet/js/upload_events.js' %}"></script>
<script>
	var localSection = "{% url 'intranet:local_upload' %}";
	var driveSection = "{% url 'intranet:drive_upload' %}";
	$('#drive').click();
</script>
<!--######################################
<div class="upload-body  upl-hud" upload-method="local">
	<div id="btn-wrapper"><button id="add-btn">{% trans "Añadir documentos" %}</button></div>
	
	<h5 id="message" class="hidden"></h5>
	<form id="confirm-form">
		{%csrf_token%}
	</form>
	<div class="submit-row">
		<button id="local-submit" class="submit-btn disabled" disabled>{% trans "Confirmar" %}</button>
		<div class="clear"></div>
	</div>
</div>
######################################-->
{% endblock %}